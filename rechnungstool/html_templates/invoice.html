<style>
    :root {
        --background-body: #1e1e1e;
        --background-main: rgb(245, 245, 245);
        --background-submenu: rgb(232, 232, 232);
        --text-light: rgb(255, 255, 255);
        --text-dark: rgb(47, 47, 51);
        --button-blue: rgb(0, 69, 111);
        --table-blue: rgb(55, 114, 151);
        --shadow: #8f8f8f;
        --border: #bababa;
        --lighter-grey: #e8e8e8;
        font-size: 12px;
        font-family: Arial, Helvetica, sans-serif
    }

    /* div {
        border: solid 1px black;
    } */

    body{
        background-color: var(--background-body);
    }

    .flex {
        display: flex;
    }

    .spaceBetween {
        justify-content: space-between;
        gap: 50px;
    }

    .multiline {
        white-space: pre;
    }

    .marginTop {
        margin-top: 0.5rem;
    }

    .divider {
        min-height: 20px;
    }

    .headerContainerRight {
        flex: 0 0 25%;
    }

    .bold {
        font-weight: bold;
    }

    .grey {
        color: var(--shadow);
    }

    .right {
        text-align: right; 
    }

    table {
        border-collapse: collapse;
    }

    td,
    th {
        padding: 5px;
        text-align: center;
    }

    th {
        font-size: 1.2rem;
        background-color: var(--table-blue);
        color: var(--text-light);
    }

    td {
        font-size: 1rem;
    }

    #invoiceWrapper {
        min-width: 300px;
        max-width: 700px;
        margin: 0 auto;
        background-color: white;
        padding: 40px;
    }

    #paymentInfo {
        background-color: var(--lighter-grey);
        padding: 5px;
        font-size: 10px;
    }

    @media print {
        body {
            background-color: white;
        }
        
        #paymentInfo {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
        }

        #invoiceWrapper {
            width: 100%;
            padding: 0;
            margin: 0;
        }

        button {
            display: none;
        }
    }
</style>

<div id="invoiceWrapper">
    <div id="header">
        <div class="flex">
            <div style="flex: 1 1 50%; width: 50px;"></div>
            <h1>Rechnung</h1>
        </div>
        <div class="flex spaceBetween">
            <div style="align-self: end;">
                <div>{costumerName}</div>
                <div class="multiline">{costumerAddress}</div>
                <div class="flex spaceBetween marginTop"><span>St-Nr:</span><span class="bold">{costumerTaxId}</span>
                </div>
                <div class="flex spaceBetween"><span>USt-IdNr:</span><span class="bold">{costumerSalesTaxId}</span>
                </div>
            </div>
            <div id="selfData" class="headerContainerRight">
                <div class="flex spaceBetween grey bold"><span></span><span>{selfName}</span></div>
                <div class="multiline grey" style="text-align: right;"><span></span>{selfAddress}</div>
                <div class="flex spaceBetween marginTop grey"><span style="text-wrap: nowrap;">E-Mail:</span>{selfMail}
                </div>
                <div class="flex spaceBetween grey"><span>Tel:</span>{selfPhoneNumber}</div>
                <div class="flex spaceBetween grey"><span>St-Nr:</span>{selfTaxId}</div>
                <div class="flex spaceBetween grey"><span>USt-IdNr:</span>{selfSalesTaxId}</div>
                <div class="divider"></div>
                <div class="flex spaceBetween"><span>Rechnungsnummer:</span> <span class="bold">{invoiceId}</span></div>
                <div class="flex spaceBetween"><span>erstellt:</span> <span class="bold">{invoiceDate}</span></div>
                <div class="flex spaceBetween">{paymentTerms}</div>
                <div class="flex spaceBetween">{fullfillmentDate}</div>
            </div>
        </div>
    </div>

    <!-- invoice body -->
    <div class="divider"></div>
    <div id="invoiceBody">
        <div>
            <p>Sehr geehrte Damen und Herren,</p>
            <p>hiermit stellen wir Ihnen folgende Leistungen in Rechnung. Bitte begleichen
                Sie die vollst√§ndige Summe bis zum Zahlungsziel, sofern angegeben.</p>
        </div>
        <div class="divider"></div>
        <div id="productContainer">
            <table width="100%">
                <tr>
                    {tablehead}
                </tr>
                <tbody>
                    {products0}
                    {products7}
                    {products19}
                </tbody>
            </table>
            <div class="divider"></div>
            {totalAmountBlock}
            <div class="divider"></div>
            {invoiceComment}
            <div class="divider"></div>
            {smallBusinessTax}
            <div class="divider"></div>
            {reverseCharge}

        </div>
    </div>
    <div class="divider"></div>
    <!-- payment info -->
    <div id="paymentInfo">
        <div class="bold">Bankverbindung</div>
        <div class="flex spaceBetween marginTop">
            <div>
                <div class="bold">Kontoinhaber</div>
                <div>{selfName}</div>
            </div>
            <div>
                <div class="bold">Bank</div>
                <div>{selfBankName}</div>
            </div>
            <div>
                <div class="bold">Konto-Nr</div>
                <div>{selfBankAccountNumber}</div>
            </div>
            <div>
                <div class="bold">IBAN</div>
                <div>{selfIBAN}</div>
            </div>
            <div>
                <div class="bold">BIC</div>
                <div>{selfBIC}</div>
            </div>
        </div>
    </div>
    <button id="drucken">Drucken</button>

</div>

<script>
    button = document.getElementById('drucken');
    button.addEventListener('click', function () {
        window.print();
    });

    document.addEventListener('blur', function () {
        button.setAttribute('style', 'display: none;')
    });
</script>